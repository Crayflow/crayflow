apiVersion: devops.crayflow.xyz/v1
kind: Workflow
metadata:
  name: sample1
spec:
  # TODO(user): Add fields here
  # creator: "buhuipao"
  vars:
    - key: key1
      value:
        v: h
        foo: bar
  resets:
    - step1
  nodes:
    - name: "step1"
      timeout: 600
      dependencies:
      container:
        name: "hello"
        image: "docker/whalesay"
        command: [ cowsay ]
        args: [ "hello world" ]
        resources: # limit the resources
          limits:
            memory: 32Mi
            cpu: 100m
    #- name: "step2"
    #  timeout: 600
    #  dependencies:
    #    - "step1"
    #  container:
    #    name: "hello"
    #    image: "docker/whalesay"
    #    command: [ cowsay ]
    #    args: [ "hello world" ]
    #    resources: # limit the resources
    #      limits:
    #        memory: 32Mi
    #        cpu: 100m
